"""Adding events to user calendar."""


from datetime import datetime
import urllib.parse


def add_to_google_calendar(stock_symbol: str, date: datetime) -> None:
    """Add next earnings call to Google Calendar.

    Args:
        stock_symbol: Stock with earnings call.
        date: Datetime of earnings call as one day; event will be all day.
    """

    link: str = "https://www.google.com/calendar/render?"
    params = {
        "action": "TEMPLATE",
        "text": f"{stock_symbol} earnings call",  # Title of event
        "dates": "20230911T224000Z/20230912T221500Z",
        "details": "Generated by auraviz.app:https://auraviz.app",
        "location": "Waldorf Astoria, 301 Park Ave, New York, NY 10022",
    }

    return link + urllib.parse.urlencode(params)


print(add_to_google_calendar("GOOGL", datetime.now()))
